{% extends "/sacrud/list.jinja2" %}

{% block body %}
    <form id="sacrud-form" class="sacrud-grid-content__left-inner" method="post" action="">
        <div class="widget widget_type_single">
            <div class="widget-title">
                {{ _(table.verbose_name or table.__tablename__) }}
            </div>
            {% include 'ps_tree/toolbar.jinja2' %}
            <div class="widget-content">
                <div class="widget-tree clear-fix">
                    <input id="selected_all_item" type="checkbox" /> Select all
                    <div id="tree" class="jq-tree"></div>
                </div>
            </div>
            {% include 'ps_tree/toolbar.jinja2' %}
        </div>
    </form>
    <ul class="jqtree-menu" id="treeContextMenu">
        <li class="jqtree-menu__item">
            <a href="#delete" class="jqtree-menu__item-link">{{ _ps('Delete') }}</a>
        </li>
    </ul>
{% endblock %}

{% block extra_css %}
    {{ super() }}
    <link href="{{ request.static_url('ps_tree:static/css/__ps_tree.css') }}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block extra_js %}
    {{ super() }}
    <script type="text/javascript">
        var DATA_URL = '{{ request.route_url('ps_tree_get_tree', tablename=table.__tablename__) }}';
        var MOVE_URL = '/ps_tree/{{ table.__tablename__ }}/move/';
    </script>
    <script src="{{ request.static_url('ps_tree:static/js/__ps_tree.js') }}"></script>
    <script src="{{ request.static_url('ps_tree:static/js/vendor/tree.jquery.js') }}"></script>
    <script src="{{ request.static_url('ps_tree:static/js/jqTreeContextMenu.js') }}"></script>
{% endblock %}
